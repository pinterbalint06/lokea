<!DOCTYPE html>
<html lang="hu" data-bs-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lokea</title>
    <link href="../bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/map-creator.css">
    <script type="module" src="../javascript/map-creator.js"></script>
</head>

<body class="bg-body">
    <nav class="navbar navbar-expand-lg bg-body-tertiary  border-bottom">
        <div class="container-fluid justify-content-between">
            <a class="navbar-brand">Lokea</a>
            <button id="saveButton" class="btn btn-success" disabled>Térkép mentése</button>
        </div>
    </nav>
    <main>
        <div id="upload-overlay"
            class="d-flex justify-content-center align-items-center w-100 h-100 position-absolute bg-body z-2">
            <div id="drop-zone" class="text-center p-5 border border-2 border-dashed rounded-3">
                <div class="mb-3">
                    <svg width="48" height="48" viewBox="0 0 24 24" class="text-body" fill="currentColor"
                        xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M8 10C8 7.79086 9.79086 6 12 6C14.2091 6 16 7.79086 16 10V11H17C18.933 11 20.5 12.567 20.5 14.5C20.5 16.433 18.933 18 17 18H16C15.4477 18 15 18.4477 15 19C15 19.5523 15.4477 20 16 20H17C20.0376 20 22.5 17.5376 22.5 14.5C22.5 11.7793 20.5245 9.51997 17.9296 9.07824C17.4862 6.20213 15.0003 4 12 4C8.99974 4 6.51381 6.20213 6.07036 9.07824C3.47551 9.51997 1.5 11.7793 1.5 14.5C1.5 17.5376 3.96243 20 7 20H8C8.55228 20 9 19.5523 9 19C9 18.4477 8.55228 18 8 18H7C5.067 18 3.5 16.433 3.5 14.5C3.5 12.567 5.067 11 7 11H8V10ZM15.7071 13.2929L12.7071 10.2929C12.3166 9.90237 11.6834 9.90237 11.2929 10.2929L8.29289 13.2929C7.90237 13.6834 7.90237 14.3166 8.29289 14.7071C8.68342 15.0976 9.31658 15.0976 9.70711 14.7071L11 13.4142V19C11 19.5523 11.4477 20 12 20C12.5523 20 13 19.5523 13 19V13.4142L14.2929 14.7071C14.6834 15.0976 15.3166 15.0976 15.7071 14.7071C16.0976 14.3166 16.0976 13.6834 15.7071 13.2929Z" />
                    </svg>
                </div>
                <h4>Húzd ide a térkép fájlt</h4>
                <p class="text-muted">vagy</p>
                <button class="btn btn-primary" id="uploadBtn">Kattints ide feltöltéshez</button>
                <input type="file" id="fileInput" accept="image/*" hidden>
            </div>
        </div>
        <canvas id="mapCanvas"></canvas>
        <button id="plusBtn" class="btn btn-primary position-absolute bottom-0 end-0 m-3 z-1 rounded-circle">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
                y="0px" width="25px" height="25px" viewBox="0 0 122.875 122.648"
                enable-background="new 0 0 122.875 122.648" xml:space="preserve" fill="white">
                <g>
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M108.993,47.079c7.683-0.059,13.898,6.12,13.882,13.805 c-0.018,7.683-6.26,13.959-13.942,14.019L75.24,75.138l-0.235,33.73c-0.063,7.619-6.338,13.789-14.014,13.78 c-7.678-0.01-13.848-6.197-13.785-13.818l0.233-33.497l-33.558,0.235C6.2,75.628-0.016,69.448,0,61.764 c0.018-7.683,6.261-13.959,13.943-14.018l33.692-0.236l0.236-33.73C47.935,6.161,54.209-0.009,61.885,0 c7.678,0.009,13.848,6.197,13.784,13.818l-0.233,33.497L108.993,47.079L108.993,47.079z" />
                </g>
            </svg>
        </button>
        <div id="toastPlace" class="toast-container position-absolute top-0 start-50 translate-middle-x mt-3 z-3">
        </div>
        <div class="collapse collapse-horizontal position-absolute me-2 z-3 mt-2 mb-5 rounded shadow"
            id="ujPontCollapse">
            <div class="card h-100">
                <div class="card-header d-flex justify-content-between">
                    <h5 class="card-title">Új pont hozzáadása</h5>
                    <button id="closeCollapse" type="button" class="btn-close"></button>
                </div>
                <div class="card-body d-flex flex-column align-items-start">
                    <div class="rounded bg-body-tertiary border d-inline-flex align-items-center p-2 flex-grow-0">
                        <svg style="height: 2em;" class="text-body" fill="currentColor"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 122.88">
                            <title>compass-north</title>
                            <path
                                d="M61.44,0A61.46,61.46,0,1,1,18,18,61.23,61.23,0,0,1,61.44,0ZM73.93,66.5l-5.18,0-.09.11a7.73,7.73,0,0,1-.6.67,8.9,8.9,0,0,1-12.55,0h0a8.17,8.17,0,0,1-.62-.7l-.13-.16-5.63,0L61.64,95,73.93,66.5Zm-5.85-2.69,7.86,0h2l-16.32,37.8L45,63.66l11.13.07.39.6q.18.27.39.54a5.26,5.26,0,0,0,.44.49,6.2,6.2,0,0,0,8.78,0c.15-.15.29-.31.42-.46a5,5,0,0,0,.37-.5l.4-.6ZM55,59.08,46.11,59l-.64-1.29q7.85-18.25,15.75-36.5l16.62,38-10-.06-.36-.78a5.42,5.42,0,0,0-.55-1,5.87,5.87,0,0,0-.7-.85,6.22,6.22,0,0,0-8.79,0h0a7.57,7.57,0,0,0-.69.81,5.73,5.73,0,0,0-.53.92l-.37.77ZM96.58,26.3a49.71,49.71,0,1,0,14.55,35.14A49.57,49.57,0,0,0,96.58,26.3Z" />
                        </svg>
                        <div class="d-inline-flex flex-column ms-2">
                            <h6 class="h6 text-uppercase text-body-secondary m-0">Koordináták</h6>
                            <div class="d-flex align-items-center gap-2 w-auto">
                                <label class="form-label m-0" for="coordinateX">X: </label>
                                <input class="form-control p-1" type="number" id="coordinateX">
                                <label class="form-label m-0" for="coordinateY">Y: </label>
                                <input class="form-control p-1" type="number" id="coordinateY">
                            </div>
                        </div>
                    </div>
                    <h5 class="h5 my-3">360°-os kép feltöltése</h5>
                    <div id="drop-zone-equirectangular"
                        class="text-center p-2 border border-2 border-dashed rounded-3 w-100">
                        <div class="mb-3">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M8 10C8 7.79086 9.79086 6 12 6C14.2091 6 16 7.79086 16 10V11H17C18.933 11 20.5 12.567 20.5 14.5C20.5 16.433 18.933 18 17 18H16C15.4477 18 15 18.4477 15 19C15 19.5523 15.4477 20 16 20H17C20.0376 20 22.5 17.5376 22.5 14.5C22.5 11.7793 20.5245 9.51997 17.9296 9.07824C17.4862 6.20213 15.0003 4 12 4C8.99974 4 6.51381 6.20213 6.07036 9.07824C3.47551 9.51997 1.5 11.7793 1.5 14.5C1.5 17.5376 3.96243 20 7 20H8C8.55228 20 9 19.5523 9 19C9 18.4477 8.55228 18 8 18H7C5.067 18 3.5 16.433 3.5 14.5C3.5 12.567 5.067 11 7 11H8V10ZM15.7071 13.2929L12.7071 10.2929C12.3166 9.90237 11.6834 9.90237 11.2929 10.2929L8.29289 13.2929C7.90237 13.6834 7.90237 14.3166 8.29289 14.7071C8.68342 15.0976 9.31658 15.0976 9.70711 14.7071L11 13.4142V19C11 19.5523 11.4477 20 12 20C12.5523 20 13 19.5523 13 19V13.4142L14.2929 14.7071C14.6834 15.0976 15.3166 15.0976 15.7071 14.7071C16.0976 14.3166 16.0976 13.6834 15.7071 13.2929Z"
                                    fill="#000000" />
                            </svg>
                        </div>
                        <h4>Húzd ide a 360°-os képet</h4>
                        <p class="text-muted">vagy</p>
                        <button class="btn btn-primary" id="uploadEquirectangularBtn">Kattints ide feltöltéshez</button>
                        <input type="file" id="fileInputEquirectangular" accept="image/*" hidden>
                    </div>
                    <h5 class="h5 my-1">Előnézet</h5>
                    <div id="equirectangularWrapper"
                        class="w-100 flex-grow-1 position-relative my-2 border border-dark rounded">
                        <canvas id="equirectangularPreview"
                            class="w-100 h-100 position-absolute top-0 start-0 rounded"></canvas>
                    </div>
                    <div class="d-flex justify-content-center w-100">
                        <button id="equirectangularFullscreen" class="btn btn-secondary" disabled>Teljes
                            képernyő</button>
                    </div>
                </div>
                <div class="card-footer d-flex justify-content-center">
                    <button id="savePointButton" class="btn btn-success" disabled>Pont mentése</button>
                </div>
            </div>
        </div>
    </main>

    <script src="../bootstrap/js/bootstrap.min.js"></script>
</body>

</html>